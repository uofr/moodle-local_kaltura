{"version":3,"sources":["../src/modal_kaltura_view.js"],"names":["TEMPLATES","BODY","ModalKalturaView","root","getRoot","on","ModalEvents","hidden","setBody","entryid","KalturaAjax","getEntryPlayer","player","Templates","render","show","Modal","registered","ModalRegistry","register","getType"],"mappings":"iQAAA,OAEA,OACA,OACA,OAEA,O,44DAEMA,CAAAA,CAAS,CAAG,CACdC,IAAI,CAAE,uCADQ,C,CAIGC,C,oBAEjB,WAAYC,CAAZ,CAAkB,wCACRA,CADQ,EAEjB,C,0EAEwB,YACrB,2DAEA,KAAKC,OAAL,GAAeC,EAAf,CAAkBC,UAAYC,MAA9B,CAAsC,UAAM,CACxC,CAAI,CAACC,OAAL,CAAa,EAAb,CACH,CAFD,CAGH,C,uFAEuBC,C,wGACCC,WAAYC,cAAZ,CAA2BF,CAA3B,C,QAAfG,C,QACN,KAAKJ,OAAL,CAAaK,UAAUC,MAAV,CAAiBd,CAAS,CAACC,IAA3B,CAAiCW,CAAjC,CAAb,EACA,KAAKG,IAAL,G,iKAGa,CACb,MAAO,kCACV,C,cAtByCC,S,cA0B9C,GAAIC,CAAAA,CAAU,GAAd,CACA,GAAI,CAACA,CAAL,CAAiB,CACbC,UAAcC,QAAd,CAAuBjB,CAAgB,CAACkB,OAAjB,EAAvB,CAAmDlB,CAAnD,CAAqE,kCAArE,EACAe,CAAU,GACb,C","sourcesContent":["import Templates from 'core/templates';\n\nimport Modal from 'core/modal';\nimport ModalRegistry from 'core/modal_registry';\nimport ModalEvents from 'core/modal_events';\n\nimport KalturaAjax from 'local_kaltura/kaltura_ajax';\n\nconst TEMPLATES = {\n    BODY: 'local_kaltura/modal_kaltura_view_body'\n};\n\nexport default class ModalKalturaView extends Modal {\n\n    constructor(root) {\n        super(root);\n    }\n\n    registerEventListeners() {\n        super.registerEventListeners();\n\n        this.getRoot().on(ModalEvents.hidden, () => {\n            this.setBody('');\n        });\n    }\n\n    async renderEntryPlayer(entryid) {\n        const player = await KalturaAjax.getEntryPlayer(entryid);\n        this.setBody(Templates.render(TEMPLATES.BODY, player));\n        this.show();\n    }\n\n    static getType() {\n        return 'local_kaltura_modal_kaltura_view';\n    }\n\n}\n\nlet registered = false;\nif (!registered) {\n    ModalRegistry.register(ModalKalturaView.getType(), ModalKalturaView, 'local_kaltura/modal_kaltura_view');\n    registered = true;\n}"],"file":"modal_kaltura_view.min.js"}